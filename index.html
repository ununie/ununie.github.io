<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="惶惶不可终日地思考">
<meta property="og:url" content="http://ununie.github.io/index.html">
<meta property="og:site_name" content="惶惶不可终日地思考">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="惶惶不可终日地思考">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://ununie.github.io/">





  <title>惶惶不可终日地思考</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">惶惶不可终日地思考</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>
            
            日程表
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ununie.github.io/2019/04/02/java基础05-多线程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ununie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="惶惶不可终日地思考">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/java基础05-多线程/" itemprop="url">java基础05-多线程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T23:59:55+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1、进程和线程的概述"><a href="#1、进程和线程的概述" class="headerlink" title="1、进程和线程的概述"></a>1、进程和线程的概述</h2><h3 id="1、进程"><a href="#1、进程" class="headerlink" title="1、进程"></a>1、进程</h3><p>进程就是正在运行的程序。</p>
<p>进程是系统进行资源分配和调用的独立单位。每一个进程都有它自己的内存空间和系统资源。</p>
<p><strong>多进程的意义</strong></p>
<p>单进程的计算机只能做一件事情，多进程的计算机可以做多件实情。可以提高CPU的使用率。</p>
<h3 id="2、线程"><a href="#2、线程" class="headerlink" title="2、线程"></a>2、线程</h3><p>在同一个进程内又可以执行多个任务，而这每一个任务就可以看作是一个线程。</p>
<p>线程是程序的执行单元执行路径，是程序使用CPU的最基本单位。</p>
<p><strong>单线程</strong>：程序只有一条执行路径</p>
<p><strong>多线程</strong>：程序有多条执行路径。</p>
<p><strong>多线程的意义</strong>：</p>
<p>多线程的存在不是为了提高程序的执行速度，其实是为了提高应用程序的使用率。</p>
<p>程序的执行其实都是在抢CPU的资源CPU的执行权。</p>
<p>多个进程是在抢这个资源，而其中的某一个进程如果执行路径比较多，就会有更高的几率抢到CPU的执行权。</p>
<p>我们不能保证哪一个线程能够在哪个时刻抢到，所以线程的执行有随机性。</p>
<h3 id="3、总结"><a href="#3、总结" class="headerlink" title="3、总结"></a>3、总结</h3><p><strong>进程：</strong></p>
<p>正在运行的程序，是系统进行资源分配和调用的独立单位。每一个进程都有它自己的内存空间和系统资源。</p>
<p><strong>线程：</strong></p>
<p>是进程中的单个顺序控制流，是一条执行路径。只有一条执行路径称为单线程，有多条执行路径称为多线程。</p>
<p><strong>并行和并发</strong></p>
<p>并行是逻辑上同时发生，在某一个时间段内同时运行多个程序。</p>
<p>并发是物理上同时发生，在某一个时间点上同时运行多个程序。</p>
<p><strong>java程序运行原理</strong></p>
<p>java命令会启动jvm，等于启动一个应用程序，也就是启动了一个进程。该进程会自动启动一个”主线程“，然后主线程去调用某个类的main方法。</p>
<p><strong>jvm的启动是单线程还是多线程</strong></p>
<p>多线程。因为垃圾回收线程也要先启动，否则很容易出现内存溢出。</p>
<p>所以jvm的启动是多线程的。</p>
<p><strong>如何实现多线程</strong></p>
<p>由于线程是依赖进程而存在的，所以我们应该先创建一个进程。而进程是由系统创建的，所以我们应该去调用系统功能创建一个进程。</p>
<p>java是不能直接调用系统功能的。</p>
<p>java可以调用c、c++写好的程序来实现多线程程序。</p>
<h2 id="2、Thread类"><a href="#2、Thread类" class="headerlink" title="2、Thread类"></a>2、Thread类</h2><h3 id="1、基本使用"><a href="#1、基本使用" class="headerlink" title="1、基本使用"></a>1、基本使用</h3><p>java.lang.Thread</p>
<p>创建新执行线程有两种方法：</p>
<ul>
<li>继承Thread类，重写run方法，创建对象，启动线程</li>
<li>实现Runable接口，实现run方法。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 该类要重写run()方法？</span></span><br><span class="line"><span class="comment"> * 不是类中的所有方法都需要被线程执行。为了区分哪些方法需要线程执行，提供了run()方法来包含那些被多线程执行的代码</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadDemo1</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 被多线程执行的内容</span></span><br><span class="line"><span class="comment">		 * 一般来说，被线程执行的代码都是比较耗时的，用循环改进</span></span><br><span class="line"><span class="comment">		 * getName()方法：</span></span><br><span class="line"><span class="comment">		 * 		返回线程名字</span></span><br><span class="line"><span class="comment">		 * setName()：</span></span><br><span class="line"><span class="comment">		 * 		设置线程名称</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">			System.out.println(<span class="keyword">this</span>.getName()+<span class="string">":"</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ThreadDemo1</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(name);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ThreadDemo1</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//super();</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest1</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ThreadDemo1 td = <span class="keyword">new</span> ThreadDemo1();</span><br><span class="line">		ThreadDemo1 td2 = <span class="keyword">new</span> ThreadDemo1();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * run方法直接调用相当于普通方法的调用，看到的是单线程效果。</span></span><br><span class="line"><span class="comment">		 * 要想看到多线程需要开启线程start()</span></span><br><span class="line"><span class="comment">		 * run和start区别？</span></span><br><span class="line"><span class="comment">		 * 		run仅仅是封装被多线程执行的代码，直接调用是普通方法</span></span><br><span class="line"><span class="comment">		 * 		start首先启动了线程，然后再由jvm调用该线程的run方法</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line"><span class="comment">//		td.run();</span></span><br><span class="line">		</span><br><span class="line">		td.setName(<span class="string">"宝马"</span>);</span><br><span class="line">		td2.setName(<span class="string">"奔驰"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//带参构造给线程起名字</span></span><br><span class="line">		ThreadDemo1 td3 = <span class="keyword">new</span> ThreadDemo1(<span class="string">"奥迪"</span>);</span><br><span class="line">		</span><br><span class="line">		td.start();</span><br><span class="line">		td2.start();</span><br><span class="line">		td3.start();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//得到当前线程</span></span><br><span class="line">		Thread curTd = Thread.currentThread();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">			System.out.println(curTd.getName()+<span class="string">":"</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2、线程调度"><a href="#2、线程调度" class="headerlink" title="2、线程调度"></a>2、线程调度</h3><p>线程有两种调度模型：</p>
<ul>
<li>分时调度模型：所有线程轮流使用CPU的使用权，评价分配每个线程占用CPU的时间片。 </li>
<li>抢战式调度模型：优先让优先级高的线程使用CPU，如果线程的优先级相同，就会随机选择一个，优先级高的线程获取的CPU时间片相对多一些。</li>
</ul>
<p>java使用的是抢占式调度模型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 获取线程优先级</span></span><br><span class="line"><span class="comment"> * 	public final int getPriority();</span></span><br><span class="line"><span class="comment"> * 设置线程优先级</span></span><br><span class="line"><span class="comment"> * 	public final void setPriority(int priority);</span></span><br><span class="line"><span class="comment"> * 		优先级[1-10],默认是5,数字越小优先级越高</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ThreadPriority tp1= <span class="keyword">new</span> ThreadPriority();</span><br><span class="line">		ThreadPriority tp2= <span class="keyword">new</span> ThreadPriority();</span><br><span class="line">		ThreadPriority tp3= <span class="keyword">new</span> ThreadPriority();</span><br><span class="line">		</span><br><span class="line">		tp1.setName(<span class="string">"张飞"</span>);</span><br><span class="line">		tp2.setName(<span class="string">"关羽"</span>);</span><br><span class="line">		tp3.setName(<span class="string">"刘备"</span>);</span><br><span class="line">		<span class="comment">//线程默认优先级是5</span></span><br><span class="line">		System.out.println(tp1.getPriority());</span><br><span class="line">		System.out.println(tp2.getPriority());</span><br><span class="line">		System.out.println(tp3.getPriority());</span><br><span class="line">		</span><br><span class="line">		tp1.setPriority(<span class="number">1</span>);</span><br><span class="line">		tp3.setPriority(<span class="number">10</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 由于线程具有随机性，一两次执行不能看出优先级顺序</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		tp1.start();</span><br><span class="line">		tp2.start();</span><br><span class="line">		tp3.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3、线程控制"><a href="#3、线程控制" class="headerlink" title="3、线程控制"></a>3、线程控制</h3><p><strong>线程睡眠</strong></p>
<p>Thread.sleep(毫秒值)</p>
<p><strong>线程加入</strong></p>
<p>public final void join();//等待该线程终止</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">	ThreadJoin tp1= <span class="keyword">new</span> ThreadJoin();</span><br><span class="line">	ThreadJoin tp2= <span class="keyword">new</span> ThreadJoin();</span><br><span class="line">	ThreadJoin tp3= <span class="keyword">new</span> ThreadJoin();</span><br><span class="line">	</span><br><span class="line">	tp1.setName(<span class="string">"张飞"</span>);</span><br><span class="line">	tp2.setName(<span class="string">"关羽"</span>);</span><br><span class="line">	tp3.setName(<span class="string">"刘备"</span>);</span><br><span class="line"></span><br><span class="line">	tp1.start();</span><br><span class="line">	<span class="comment">//join 必须等待tp1线程跑完，其他才能开始</span></span><br><span class="line">	tp1.join();</span><br><span class="line">	tp2.start();</span><br><span class="line">	tp3.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>线程礼让</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 线程礼让，能一定程度让线程执行更加和谐。</span></span><br><span class="line"><span class="comment"> * 不能靠它保证一人一次</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadYield</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">			Thread.yield();</span><br><span class="line">			System.out.println(getName()+<span class="string">":"</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>后台线程</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">setDaemon</span><span class="params">(<span class="keyword">boolean</span> on)</span></span>;</span><br><span class="line"><span class="comment">//将该线程标记为守护线程。当正在运行的线程是守护线程是，jvm退出，守护线程结束</span></span><br><span class="line"><span class="comment">//该方法必须在启动线程前调用</span></span><br></pre></td></tr></table></figure>
<p><strong>中断线程</strong></p>
<p>public final void stop();//已过时方法，但是还可以使用</p>
<p>public void interrupt();//把线程的状态终止，并抛出InterruptedException</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadInterrupt</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"start:"</span>+<span class="keyword">new</span> Date());</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">10000</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			System.out.println(<span class="string">"线程被终止了"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"结束执行"</span>+<span class="keyword">new</span> Date());</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">		ThreadInterrupt tp1 = <span class="keyword">new</span> ThreadInterrupt();</span><br><span class="line">		<span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">		tp1.start();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">			tp1.stop();</span><br><span class="line"><span class="comment">//			tp1.interrupt();</span></span><br><span class="line"></span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//System.out.println("use:"+(System.currentTimeMillis()-start));</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3、线程生命周期"><a href="#3、线程生命周期" class="headerlink" title="3、线程生命周期"></a>3、线程生命周期</h2><ul>
<li><p>新建：创建线程对象</p>
</li>
<li><p>就绪：有执行资格，没有执行权</p>
</li>
<li><p>运行：有执行资格，有执行权</p>
<ul>
<li><p>阻塞：由于一些操作让线程处于该状态。没有执行资格，没有执行权。</p>
<p>另一些操作却可以把它给激活，激活后处于就绪状态。</p>
</li>
</ul>
</li>
<li><p>死亡：线程独享变成垃圾，等待被回收</p>
</li>
</ul>
<p><img src="G:/images/%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png" alt></p>
<h2 id="4、Runnable接口"><a href="#4、Runnable接口" class="headerlink" title="4、Runnable接口"></a>4、Runnable接口</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 实现Runnable接口方式</span></span><br><span class="line"><span class="comment"> * 	自定义类实现Runnable接口</span></span><br><span class="line"><span class="comment"> * 	重写run()方法</span></span><br><span class="line"><span class="comment"> * 	创建对象</span></span><br><span class="line"><span class="comment"> * 	创建Thread类的对象，并把自定义对象传入</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RunnableTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		MyRunnable mr = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">		Thread t1 = <span class="keyword">new</span> Thread(mr);</span><br><span class="line">		Thread t2 = <span class="keyword">new</span> Thread(mr);</span><br><span class="line">		t1.setName(<span class="string">"张飞"</span>);</span><br><span class="line">		t2.setName(<span class="string">"马超"</span>);</span><br><span class="line">		t1.start();</span><br><span class="line">		t2.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">			<span class="comment">//由于实现接口的方式不能直接使用getName()方法，可以间接使用</span></span><br><span class="line">			System.out.println(Thread.currentThread().getName()+<span class="string">":"</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现Runnable接口的好处</strong></p>
<ul>
<li>继承Thread类的弊端是如果某个类已经继承了其他类就不能再继承Thread类了。实现Runnable接口可以解决单继承局限性。</li>
<li>适合多个相同程序代码去处理同一个资源的情况，把线程同程序代码数据有效分离，较好的体现了面向队形的设计思想。</li>
</ul>
<h2 id="5、线程安全问题"><a href="#5、线程安全问题" class="headerlink" title="5、线程安全问题"></a>5、线程安全问题</h2><p>判断是否会出现线程安全问题：</p>
<ul>
<li>是否是多线程环境</li>
<li>是否有共享数据</li>
<li>是否有多条语句操作共享数据</li>
</ul>
<p><strong>解决问题思想</strong>：</p>
<p>把多条语句操作共享数据的代码包成一个整体，让某个线程在执行的时候，别的不能执行。</p>
<p>java提供了同步机制。</p>
<p><strong>同步代码块</strong></p>
<p>synchronized(对象){</p>
<p>​    需要同步的代码；</p>
<p>}</p>
<p>注意这个对象应该是同一个对象。对象就是锁，所以需要同一把锁。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 窗口卖票</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ticket</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//定义总票数</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> tickets = <span class="number">100</span>;</span><br><span class="line">	<span class="comment">//定义锁对象</span></span><br><span class="line">	<span class="keyword">private</span> Object obj = <span class="keyword">new</span> Object();</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			<span class="keyword">synchronized</span>(obj)&#123;</span><br><span class="line">				<span class="keyword">if</span>(tickets&gt;<span class="number">0</span>)&#123;</span><br><span class="line">					System.out.println(Thread.currentThread().getName()+<span class="string">"正在卖票："</span>+tickets--);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TicketTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Ticket t1 = <span class="keyword">new</span> Ticket();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		Thread td1 = <span class="keyword">new</span> Thread(t1,<span class="string">"窗口1"</span>);</span><br><span class="line">		Thread td2 = <span class="keyword">new</span> Thread(t1,<span class="string">"窗口2"</span>);</span><br><span class="line">		Thread td3 = <span class="keyword">new</span> Thread(t1,<span class="string">"窗口3"</span>);</span><br><span class="line">		</span><br><span class="line">		td1.start();</span><br><span class="line">		td2.start();</span><br><span class="line">		td3.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>同步的特点</strong></p>
<p>同步的前提：多个线程；多个线程使用同一个锁对象</p>
<p>同步的好处：解决多线程安全问题</p>
<p>同步的弊端：当线程很多时，都会判断同步的所，很耗费资源降低程序运行效率</p>
<h3 id="锁对象"><a href="#锁对象" class="headerlink" title="锁对象"></a>锁对象</h3><p><strong>同步代码块的锁对象</strong></p>
<p>​    任意对象</p>
<p><strong>同步方法</strong></p>
<p>​    把同步关键字加在方法上。</p>
<p>​    同步方法的锁对象是this</p>
<p><strong>静态方法锁对象</strong></p>
<p>​    类的字节码文件对象    类.class</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 窗口卖票</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ticket</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 定义总票数</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> tickets = <span class="number">100</span>;</span><br><span class="line">	<span class="comment">// 定义锁对象</span></span><br><span class="line">	<span class="keyword">private</span> Object obj = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">			sell();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 同步方法</span></span><br><span class="line">	<span class="comment">// private synchronized void sell()&#123;</span></span><br><span class="line">	<span class="comment">// if(tickets&gt;0)&#123;</span></span><br><span class="line">	<span class="comment">// System.out.println(Thread.currentThread().getName()+"正在卖票："+tickets--);</span></span><br><span class="line">	<span class="comment">// &#125;</span></span><br><span class="line">	<span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 静态同步方法</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">sell</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (tickets &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName() + <span class="string">"正在卖票："</span> + tickets--);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6、线程安全的类"><a href="#6、线程安全的类" class="headerlink" title="6、线程安全的类"></a>6、线程安全的类</h2><p>StringBuffer</p>
<p>Vector</p>
<p>Hashtable</p>
<blockquote>
<p>Vector是线程安全时候使用的。但是即使线程安全也不用它。</p>
<p>使用Collections.synchronizedCollection(Collection c)</p>
<p>Collections.synchronizedList(Collection c)</p>
<p>Collections.synchronizedXXX(Collection c)</p>
<p>来达到安全目的</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list1 = <span class="keyword">new</span> ArrayList&lt;String&gt; ();<span class="comment">//线程不安全</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//得到线程安全的list</span></span><br><span class="line">List&lt;String&gt; list2 = COllections.synchronizedList(list1);</span><br></pre></td></tr></table></figure>
<h2 id="7、Lock"><a href="#7、Lock" class="headerlink" title="7、Lock"></a>7、Lock</h2><p>Lock是一个接口，JDK5出现</p>
<p>​    void lock()获取锁</p>
<p>​    void unlock()释放锁</p>
<p>ReentrantLock是Lock的实现类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Ticket类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ticket</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> tickets = <span class="number">100</span>;</span><br><span class="line">	<span class="comment">// 创建锁</span></span><br><span class="line">	Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">			<span class="comment">// 打开锁</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				lock.lock();</span><br><span class="line">				<span class="keyword">if</span> (tickets &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					Thread.sleep(<span class="number">100</span>);</span><br><span class="line">					System.out.println(Thread.currentThread().getName() + <span class="string">"：正在卖："</span> + (tickets--));</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">				<span class="comment">// 保证锁一定能关闭</span></span><br><span class="line">				lock.unlock();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TicketTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Ticket t = <span class="keyword">new</span> Ticket();</span><br><span class="line">		Thread t1 = <span class="keyword">new</span> Thread(t,<span class="string">"窗口1"</span>);</span><br><span class="line">		Thread t2 = <span class="keyword">new</span> Thread(t,<span class="string">"窗口2"</span>);</span><br><span class="line">		Thread t3 = <span class="keyword">new</span> Thread(t,<span class="string">"窗口3"</span>);</span><br><span class="line">		</span><br><span class="line">		t1.start();</span><br><span class="line">		t2.start();</span><br><span class="line">		t3.start();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>同步弊端</strong></p>
<ul>
<li>效率低</li>
<li>如果出现了同步嵌套，容易产生死锁问题</li>
</ul>
<p><strong>死锁问题</strong></p>
<ul>
<li>是指两个或者两个以上的线程在执行过程中，因为争夺资源产生的一种互相等待现象</li>
<li>同步代码块的嵌套案例</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//死锁</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DieLock</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">boolean</span> flag;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DieLock</span><span class="params">(<span class="keyword">boolean</span> flag)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.flag = flag;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (flag) &#123;</span><br><span class="line">			<span class="keyword">synchronized</span> (MyObject.obj1) &#123;</span><br><span class="line">				System.out.println(<span class="string">"if obj1"</span>);</span><br><span class="line">				<span class="keyword">synchronized</span> (MyObject.obj2) &#123;</span><br><span class="line">					System.out.println(<span class="string">"if obj2"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">synchronized</span> (MyObject.obj2) &#123;</span><br><span class="line">				System.out.println(<span class="string">"else obj2"</span>);</span><br><span class="line">				<span class="keyword">synchronized</span>(MyObject.obj1)&#123;</span><br><span class="line">					System.out.println(<span class="string">"else obj1"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//测试</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DieLockTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		DieLock d1 = <span class="keyword">new</span> DieLock(<span class="keyword">true</span>);</span><br><span class="line">		DieLock d2 = <span class="keyword">new</span> DieLock(<span class="keyword">false</span>);</span><br><span class="line">		</span><br><span class="line">		d1.start();</span><br><span class="line">		d2.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8、线程间的通信问题"><a href="#8、线程间的通信问题" class="headerlink" title="8、线程间的通信问题"></a>8、线程间的通信问题</h2><p>不同类的线程间针对同一个资源的操作。</p>
<p><strong>生产者消费者模式</strong></p>
<p>正常思路：</p>
<p>生产者先判读有没有数据，如果没有就生存，然后等待消费者消费。如果有就等待消费者消费。</p>
<p>消费者先判断有没有数据，有就消费，没有就生产。</p>
<p><strong>为了处理这样的问题，java提供了一种机制：等待唤醒机制。</strong></p>
<h3 id="1、等待唤醒机制"><a href="#1、等待唤醒机制" class="headerlink" title="1、等待唤醒机制"></a>1、等待唤醒机制</h3><p>Object类中提供了三个方法：</p>
<p>wait()</p>
<p>notify()</p>
<p>notifyAll()</p>
<p><strong>为什么是Object类下，而不是Thread类下？</strong></p>
<p>因为不同类的线程是不相关的，联系是通过锁对象联系在一起的。这些方法的调用必须通过锁对象调用，synchronize用的是任意锁。所以需要在Object下提供这些方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 消费者</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> Student s;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">GetThread</span><span class="params">(Student s)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">this</span>.s = s;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span> (s.times++&lt;<span class="number">10</span>) &#123;</span><br><span class="line">			<span class="keyword">synchronized</span> (s) &#123;</span><br><span class="line">				System.out.println(<span class="string">"---get---"</span>+s.flag);</span><br><span class="line">				<span class="keyword">if</span>(!s.flag)&#123;</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						System.out.println(<span class="string">"-----get----wait"</span>);</span><br><span class="line">						s.wait();</span><br><span class="line">						System.out.println(<span class="string">"-----get----wait---end"</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(s.getName() + <span class="string">","</span> + s.getAge());</span><br><span class="line">				s.flag = <span class="keyword">false</span>;</span><br><span class="line">				s.notifyAll();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-----------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 生产者</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SetThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> Student s;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> x;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SetThread</span><span class="params">(Student s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.s = s;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span> (s.times++&lt;<span class="number">10</span>) &#123;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 加锁</span></span><br><span class="line">			<span class="keyword">synchronized</span> (s) &#123;</span><br><span class="line">				System.out.println(<span class="string">"---set---"</span>+s.flag);</span><br><span class="line">				<span class="keyword">if</span> (s.flag) &#123;</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						System.out.println(<span class="string">"-----set----wait----"</span>+x);</span><br><span class="line">						s.wait();</span><br><span class="line">						System.out.println(<span class="string">"-----set----wait----end--"</span>+x);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span> (x % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">					s.setName(<span class="string">"张三"</span>);</span><br><span class="line">					s.setAge(<span class="number">21</span>);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					s.setName(<span class="string">"李四"</span>);</span><br><span class="line">					s.setAge(<span class="number">14</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				x++;</span><br><span class="line"></span><br><span class="line">				s.flag = <span class="keyword">true</span>;</span><br><span class="line">				s.notifyAll();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//测试</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Student s = <span class="keyword">new</span> Student();</span><br><span class="line"></span><br><span class="line">		GetThread gt = <span class="keyword">new</span> GetThread(s);</span><br><span class="line">		SetThread st = <span class="keyword">new</span> SetThread(s);</span><br><span class="line">		Thread t1 = <span class="keyword">new</span> Thread(gt);</span><br><span class="line">		Thread t2 = <span class="keyword">new</span> Thread(st);</span><br><span class="line">		</span><br><span class="line">		t1.start();</span><br><span class="line">		t2.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------输出--------------</span></span><br><span class="line">---get---<span class="keyword">false</span></span><br><span class="line">-----get----wait</span><br><span class="line">---set---<span class="keyword">false</span></span><br><span class="line">---set---<span class="keyword">true</span></span><br><span class="line">-----set----wait----<span class="number">1</span></span><br><span class="line">-----get----wait---end</span><br><span class="line">张三,<span class="number">21</span></span><br><span class="line">---get---<span class="keyword">false</span></span><br><span class="line">-----get----wait</span><br><span class="line">-----set----wait----end--<span class="number">1</span></span><br><span class="line">---set---<span class="keyword">true</span></span><br><span class="line">-----set----wait----<span class="number">2</span></span><br><span class="line">-----get----wait---end</span><br><span class="line">李四,<span class="number">14</span></span><br><span class="line">---get---<span class="keyword">false</span></span><br><span class="line">-----get----wait</span><br><span class="line">-----set----wait----end--<span class="number">2</span></span><br><span class="line">---set---<span class="keyword">true</span></span><br><span class="line">-----set----wait----<span class="number">3</span></span><br><span class="line">-----get----wait---end</span><br><span class="line">张三,<span class="number">21</span></span><br><span class="line">---get---<span class="keyword">false</span></span><br><span class="line">-----get----wait</span><br><span class="line">-----set----wait----end--<span class="number">3</span></span><br><span class="line">---set---<span class="keyword">true</span></span><br><span class="line">-----set----wait----<span class="number">4</span></span><br><span class="line">-----get----wait---end</span><br><span class="line">李四,<span class="number">14</span></span><br><span class="line">---get---<span class="keyword">false</span></span><br><span class="line">-----get----wait</span><br><span class="line">-----set----wait----end--<span class="number">4</span></span><br><span class="line">-----get----wait---end</span><br><span class="line">张三,<span class="number">21</span></span><br></pre></td></tr></table></figure>
<h3 id="2、线程的状态转换及常见执行情况"><a href="#2、线程的状态转换及常见执行情况" class="headerlink" title="2、线程的状态转换及常见执行情况"></a>2、线程的状态转换及常见执行情况</h3><p><img src="G:/images/%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2.png" alt></p>
<h3 id="3、等待唤醒优化"><a href="#3、等待唤醒优化" class="headerlink" title="3、等待唤醒优化"></a>3、等待唤醒优化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//资源类</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">boolean</span> flag;</span><br><span class="line">	<span class="comment">//同步方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">getStudent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(!<span class="keyword">this</span>.flag)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">this</span>.wait();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="keyword">this</span>.getName()+<span class="string">","</span>+<span class="keyword">this</span>.getAge());</span><br><span class="line">		<span class="keyword">this</span>.flag=!<span class="keyword">this</span>.flag;</span><br><span class="line">		<span class="keyword">this</span>.notify();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">setStudent</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span>.flag)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">this</span>.wait();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">this</span>.setName(name);</span><br><span class="line">		<span class="keyword">this</span>.setAge(age);</span><br><span class="line">		<span class="keyword">this</span>.flag=!<span class="keyword">this</span>.flag;</span><br><span class="line">		<span class="keyword">this</span>.notify();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 消费者</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> Student s;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">GetThread</span><span class="params">(Student s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.s = s;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">			s.getStudent();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//----------------------</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 生产者</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SetThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> Student s;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> x;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SetThread</span><span class="params">(Student s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.s = s;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (x % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">				s.setStudent(<span class="string">"------张三"</span>, <span class="number">21</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				s.setStudent(<span class="string">"李四"</span>, <span class="number">14</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			x++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9、线程组"><a href="#9、线程组" class="headerlink" title="9、线程组"></a>9、线程组</h2><p>使用ThreadGroup来表示线程组，它可以对一批线程进行分类管理，可以直接对线程组进行控制。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	MyRunnable mr = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">	Thread t1 = <span class="keyword">new</span> Thread(mr);</span><br><span class="line">	Thread t2 = <span class="keyword">new</span> Thread(mr);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//线程默认情况下属于main线程组</span></span><br><span class="line">	System.out.println(t1.getThreadGroup().getName());</span><br><span class="line">	System.out.println(t2.getThreadGroup().getName());</span><br><span class="line">	System.out.println(Thread.currentThread().getThreadGroup().getName());</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//创建线程组</span></span><br><span class="line">	ThreadGroup tg = <span class="keyword">new</span> ThreadGroup(<span class="string">"华山派"</span>);</span><br><span class="line">	Thread t3 = <span class="keyword">new</span> Thread(tg,mr,<span class="string">"令狐冲"</span>);</span><br><span class="line">	Thread t4 = <span class="keyword">new</span> Thread(tg,mr,<span class="string">"岳不群"</span>);</span><br><span class="line">	System.out.println(t3.getThreadGroup().getName());</span><br><span class="line">	System.out.println(t4.getThreadGroup().getName());</span><br><span class="line">	<span class="comment">//设置线程组为后台线程</span></span><br><span class="line">	tg.setDaemon(<span class="keyword">true</span>);</span><br><span class="line">	t3.start();</span><br><span class="line">	t4.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10、线程池"><a href="#10、线程池" class="headerlink" title="10、线程池"></a>10、线程池</h2><p>程序启动一个新线程成本是比较高的，因为它涉及到与操作系统交互。而使用线程池可以很好的提高性能，尤其是当程序要创建大量生存期很短的线程时，更应该考虑使用线程池。</p>
<ul>
<li>线程池的每一个线程代码结束后，并不会死亡而是再次回到线程池中成为空闲状态，等待下一个对象来使用。</li>
<li>JDK5之前，我们必须手动实现自己的线程池，JDK5之后java内置支持线程池</li>
<li>JDK5新增了Executors工厂类来产生线程池。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title">newCachedThread</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title">newFixedThreadPool</span><span class="params">(<span class="keyword">int</span> nThreads)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title">newSingleThreadExecutor</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//返回值ExecutorService对象，表示一个线程池，它可以执行Runnble，Callable对象代表的线程。</span></span><br></pre></td></tr></table></figure>
<h3 id="1、基本使用-1"><a href="#1、基本使用-1" class="headerlink" title="1、基本使用"></a>1、基本使用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//线程池的使用</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExecutorsTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//创建线程池，ExecutorService是一个接口</span></span><br><span class="line">		ExecutorService es =  Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//调用submit()开启线程</span></span><br><span class="line">		es.submit(<span class="keyword">new</span> MyRunnable());</span><br><span class="line">		es.submit(<span class="keyword">new</span> MyRunnable());</span><br><span class="line">				</span><br><span class="line">		<span class="comment">//结束线程池</span></span><br><span class="line">		es.shutdown();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2、Callable使用"><a href="#2、Callable使用" class="headerlink" title="2、Callable使用"></a>2、Callable<v>使用</v></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Callable是带泛型的接口，可以定义有返回值的线程</span></span><br><span class="line"><span class="comment"> * call()方法有返回值，抛出异常</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCallable</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Integer</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">//求和操作</span></span><br><span class="line">		<span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()+<span class="string">"--"</span>+i);</span><br><span class="line">			sum+=i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> sum;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExecutorsTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//创建线程池，ExecutorService是一个接口</span></span><br><span class="line">		ExecutorService es =  Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//调用submit()开启线程</span></span><br><span class="line">		<span class="comment">//Future接口，泛型接口，get()方法得到call()方法返回值</span></span><br><span class="line">		Future&lt;Integer&gt; f1 = es.submit(<span class="keyword">new</span> MyCallable());</span><br><span class="line">		Future&lt;Integer&gt; f2 = es.submit(<span class="keyword">new</span> MyCallable());</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(f1.get());</span><br><span class="line">			System.out.println(f2.get());</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//结束线程池</span></span><br><span class="line">		es.shutdown();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="11、匿名内部类实现多线程"><a href="#11、匿名内部类实现多线程" class="headerlink" title="11、匿名内部类实现多线程"></a>11、匿名内部类实现多线程</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NoNameThreadTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 匿名，继承子类对象</span></span><br><span class="line">		<span class="keyword">new</span> Thread() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"继承子类对象"</span>);</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;.start();</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 实现runable接口</span></span><br><span class="line">		<span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"实现runable接口"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;).start();</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 特别的</span></span><br><span class="line">		<span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"实现runable接口"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;) &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;<span class="comment">//走的是这里，括号里面的没有意义，没有start()</span></span><br><span class="line">				System.out.println(<span class="string">"继承子类对象"</span>);</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12、定时器"><a href="#12、定时器" class="headerlink" title="12、定时器"></a>12、定时器</h2><p>定时器是一个应用十分广泛的线程工具，可用于调度多个定时任务以后台线程的方式执行。</p>
<p>java通过Timer和TimerTask类来实现定义调度的功能</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 定时器，</span></span><br><span class="line"><span class="comment"> * 	Timer</span></span><br><span class="line"><span class="comment"> * 	TimerTask抽象类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimerTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		Timer timer = <span class="keyword">new</span> Timer();</span><br><span class="line">		<span class="comment">//创建任务</span></span><br><span class="line">		TimerTask task = <span class="keyword">new</span> MyTimerTask(timer);</span><br><span class="line">		<span class="comment">//什么时间执行</span></span><br><span class="line"><span class="comment">//		timer.schedule(task, new Date());</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//延迟long毫秒后执行</span></span><br><span class="line"><span class="comment">//		timer.schedule(task,1000);</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//第一次执行，延迟long毫秒后重复执行</span></span><br><span class="line"><span class="comment">//		timer.schedule(task, new Date(), 2000);</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//延迟long毫秒执行，间隔long毫秒重复执行</span></span><br><span class="line"><span class="comment">//		timer.schedule(task, 2000, 1000);</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//如果需要结束定时器，把定时器对象传给任务，任务完成后结束</span></span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//做一个任务</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTimerTask</span> <span class="keyword">extends</span> <span class="title">TimerTask</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Timer timer;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyTimerTask</span><span class="params">(Timer timer)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.timer = timer;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//任务的内容</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"hello"</span>+<span class="keyword">new</span> Date());</span><br><span class="line">		<span class="comment">//任务完成后结束定时器</span></span><br><span class="line">		<span class="keyword">this</span>.timer.cancel();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13、面试题"><a href="#13、面试题" class="headerlink" title="13、面试题"></a>13、面试题</h2><p><strong>1、多线程的实现方案有几种？</strong></p>
<p>最好答两种继承Thread，或者实现Runnable接口。通过Callalbe接口配合线程池实现可以不答。 </p>
<p><strong>2、同步有几种方式？</strong></p>
<p>同步代码块</p>
<p>同步方法</p>
<p><strong>3、启动线程是run()还是start()，他们的区别？</strong></p>
<p>start()。</p>
<p>run()方法中的内容是需要线程执行的内容，直接调用只是普通方法。</p>
<p>start()是开启线程，并由jvm自动调用run()方法。</p>
<p><strong>4、sleep()和wait()区别</strong></p>
<p>sleep()必须指定时间；不释放锁；定义在Object中。</p>
<p>wait()可以不给定时间，也可给定时间；会释放锁，定义在Thread中。</p>
<p><strong>5、wait(),notif(),notifyAll()为什么定义在Object中?</strong></p>
<p>这些方法依赖于锁对象，同步代码块的锁对象是任意锁。</p>
<p><strong>6、线程的几种生命周期？</strong></p>
<p>新建——就绪——运行——结束</p>
<p>新建——就绪——运行——就绪——运行——结束</p>
<p>新建——就绪——运行——其他阻塞——就绪——运行——结束</p>
<p>新建——就绪——运行——同步阻塞——就绪——运行——结束</p>
<p>新建——就绪——运行——等待阻塞——同步阻塞——就绪——运行——结束</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ununie.github.io/2019/03/31/java基础04-IO流/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ununie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="惶惶不可终日地思考">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/31/java基础04-IO流/" itemprop="url">java基础04-IO流</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-31T23:21:25+08:00">
                2019-03-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1、异常"><a href="#1、异常" class="headerlink" title="1、异常"></a>1、异常</h2><p>Throwable是所有错误或异常的超类。</p>
<p>​    严重问题：Error，一般是严重问题，如内存溢出</p>
<p>​    异常：Exception</p>
<p>​        编译异常：不是运行时异常都是编译异常。必须处理，不处理编译不能通过。</p>
<p>​        运行异常：RuntimeExcption，也不处理是我们的问题一般是代码不够严谨需要修正代码。</p>
<p>如果程序出现了问题，我们没有做任何处理，最终jvm会做出默认处理。把异常名称、原因、出现的问题等信息输出在控制台。</p>
<h3 id="1、处理异常"><a href="#1、处理异常" class="headerlink" title="1、处理异常"></a>1、处理异常</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//try catch处理</span></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">//可能出现问题的代码</span></span><br><span class="line">    <span class="comment">//try中的代码越少越好</span></span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">catch</span>()&#123;<span class="comment">//异常名，变量	JDK7后可以并列多个异常名，变量</span></span><br><span class="line">    <span class="comment">//处理，必须有内容，必须进行处理</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">//释放资源</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// throws 异常类名，跟在方法括号后面</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;&#125;</span><br><span class="line"><span class="comment">//方法后面跟运行时异常可以不用处理，如果是编译时异常必须处理</span></span><br></pre></td></tr></table></figure>
<h3 id="2、编译和运行时期异常区别"><a href="#2、编译和运行时期异常区别" class="headerlink" title="2、编译和运行时期异常区别"></a>2、编译和运行时期异常区别</h3><p>编译期异常：java程序必须显示处理，否则程序出错，无法通过编译。</p>
<p>运行期异常：无需显示处理，也可以和编译时异常一样处理。</p>
<p>异常的几个方法：</p>
<p>e.getMessage();</p>
<p>e.toString();</p>
<p>e.printStackTrace();</p>
<h3 id="3、throw"><a href="#3、throw" class="headerlink" title="3、throw"></a>3、throw</h3><p>throw后面跟的是一个异常对象。</p>
<p><strong>throws和throw的区别</strong></p>
<p>throws</p>
<ul>
<li>用在方法声明后面，跟的是异常类名</li>
<li>可以跟多个异常类名，用逗号隔开</li>
<li>表示抛出异常，由该方法的调用者处理</li>
<li>throws表示出现异常的一种可能性，不一定会发生异常</li>
</ul>
<p>throw</p>
<ul>
<li>用在方法体内，跟的是异常对象名</li>
<li>只能抛出一个异常对象名</li>
<li>表示抛出异常，由方法体内的语句处理</li>
<li>执行throw一定是抛出了某种异常</li>
</ul>
<h3 id="4、finally"><a href="#4、finally" class="headerlink" title="4、finally"></a>4、finally</h3><p>finally中的语句一定会执行。如果在finally之前，jvm退出了则不会执行。</p>
<p>作用：用于释放资源，常见于io流，数据库</p>
<h3 id="5、final、finally、finalize区别"><a href="#5、final、finally、finalize区别" class="headerlink" title="5、final、finally、finalize区别"></a>5、final、finally、finalize区别</h3><p>finally是异常处理的一部分用于处理资源，一般来说内部代码一定会执行。</p>
<p>final最终的意思：</p>
<p>​    修饰类，类不能被继承</p>
<p>​    修饰变量，变量是常量</p>
<p>​    修饰方法，方法不能被重写</p>
<p>finalize：是Object类的一个方法，用于垃圾回收</p>
<h3 id="6、catch中有return语句"><a href="#6、catch中有return语句" class="headerlink" title="6、catch中有return语句"></a>6、catch中有return语句</h3><p>finally还是会执行，还是在return前执行。准确的说，是中间。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        System.out.println(a/<span class="number">0</span>);</span><br><span class="line">        a=<span class="number">20</span>;</span><br><span class="line">    &#125;<span class="keyword">catch</span>(ArithmeticException e)&#123;</span><br><span class="line">        a=<span class="number">30</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        return a在程序执行到这一步的时候，这里不是return a而是return 30。</span></span><br><span class="line"><span class="comment">        到了这里返回路径就形成了。但是，会发现后面还有finally，所以继续执行finally的内容，a=40。</span></span><br><span class="line"><span class="comment">        再次回到以前的返回路径，继续走return 30；</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">        a=<span class="number">40</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7、try…catch…finally的格式变形"><a href="#7、try…catch…finally的格式变形" class="headerlink" title="7、try…catch…finally的格式变形"></a>7、try…catch…finally的格式变形</h3><ul>
<li>try…catch…finally</li>
<li>try…catch</li>
<li>try…catch…catch…</li>
<li>try…catch…catch…finally</li>
<li>try…finally</li>
</ul>
<h3 id="8、自定义异常"><a href="#8、自定义异常" class="headerlink" title="8、自定义异常"></a>8、自定义异常</h3><p>需要继承Exception或者RuntimeException</p>
<p>注意：</p>
<ul>
<li>异常类子类重写父类方法，子类只能抛出比父类更具体的异常或相同异常。</li>
<li>父类抛出多个异常时，子类必须抛出同样的异常或异常子类。</li>
<li>如果被重写的方法没有抛出异常，子类不能抛出异常。</li>
</ul>
<h2 id="2、File"><a href="#2、File" class="headerlink" title="2、File"></a>2、File</h2><p>File是文件和目录的抽象表现形式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造方法</span></span><br><span class="line">File(File parent,String child);</span><br><span class="line">File(String pathname);</span><br><span class="line">File(String parent,String child);</span><br><span class="line">File(URI uri);</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建功能</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">createNewFile</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">mkdir</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">mkdirs</span><span class="params">()</span></span>;<span class="comment">//创建多级目录</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">delete</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//重命名，如果路径名相同就是改名，如果路径名不同，就是改名剪切</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">renameTo</span><span class="params">(File dest)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">idDirectory</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isFile</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">exists</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">canRead</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">canWrite</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isHidden</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取功能</span></span><br><span class="line"><span class="function">String <span class="title">getAbsolutePath</span><span class="params">()</span></span>;<span class="comment">//绝对路径</span></span><br><span class="line"><span class="function">String <span class="title">getPath</span><span class="params">()</span></span>;<span class="comment">//相对路径</span></span><br><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span>;<span class="comment">//名称</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">length</span><span class="params">()</span></span>;<span class="comment">//文件大小，字节数</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">lastModified</span><span class="params">()</span></span>;<span class="comment">//最后一次修改时间</span></span><br><span class="line">String[] list();<span class="comment">//文件列表名称数组</span></span><br><span class="line">File[] listFiles();<span class="comment">//获取文件列表</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//文件名称过滤器</span></span><br><span class="line"><span class="keyword">public</span> String[] list(Filename Filter filter);</span><br><span class="line"><span class="keyword">public</span> File[] listFiles(FilenameFilter filter);</span><br></pre></td></tr></table></figure>
<h3 id="1、递归使用"><a href="#1、递归使用" class="headerlink" title="1、递归使用"></a>1、递归使用</h3><h2 id="3、IO流"><a href="#3、IO流" class="headerlink" title="3、IO流"></a>3、IO流</h2><h3 id="1、FileOutputStream"><a href="#1、FileOutputStream" class="headerlink" title="1、FileOutputStream"></a>1、FileOutputStream</h3><p>close()方法作用：</p>
<ul>
<li>让流对象变成垃圾，这样就可以被垃圾回收器回收</li>
<li>通知系统去释放跟该文件相关的资源</li>
</ul>
<h3 id="2、FileInputStream"><a href="#2、FileInputStream" class="headerlink" title="2、FileInputStream"></a>2、FileInputStream</h3><p>计算机中中文的存储分两个字节：</p>
<p>第一个字节肯定是负数</p>
<p>第二个字节常见的是负数</p>
<h3 id="3、BufferedOutputStream，BufferedInputStream"><a href="#3、BufferedOutputStream，BufferedInputStream" class="headerlink" title="3、BufferedOutputStream，BufferedInputStream"></a>3、BufferedOutputStream，BufferedInputStream</h3><h3 id="4、编码问题"><a href="#4、编码问题" class="headerlink" title="4、编码问题"></a>4、编码问题</h3><p><strong>字符串中的编码问题</strong></p>
<p>构造方法String(byte[] bytes,String charsetName)，使用指定字符集构造String</p>
<p>编码：String转到byte[]</p>
<p>解码：byte[]转到String</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">byte</span>[] bys = s.getBytes();<span class="comment">//默认编码GBK</span></span><br><span class="line"><span class="keyword">byte</span>[] bys = s.getBytes(<span class="string">"UTF-8"</span>);<span class="comment">//指定编码utf-8</span></span><br></pre></td></tr></table></figure>
<h3 id="5、字符流"><a href="#5、字符流" class="headerlink" title="5、字符流"></a>5、字符流</h3><p>Writer，Reader</p>
<p>OutputStreamWriter,InputStreamReader</p>
<p>FileWriter,FileReader</p>
<p>BufferedWriter,BufferedReader</p>
<p>LinNumberReader，它是FileReader的子类。</p>
<h3 id="6、内存操作流"><a href="#6、内存操作流" class="headerlink" title="6、内存操作流"></a>6、内存操作流</h3><p>操作字节数组：</p>
<ul>
<li>ByteArrayInputStream</li>
<li>ByteArrayOutputStream</li>
</ul>
<p>操作字符数组</p>
<ul>
<li>CharArrayReader</li>
<li>CharArrayWriter</li>
</ul>
<p>操作字符串</p>
<ul>
<li>StringReader</li>
<li>StringWriter</li>
</ul>
<h3 id="7、打印流"><a href="#7、打印流" class="headerlink" title="7、打印流"></a>7、打印流</h3><p>PrintStream，字节流。作为OutputStream子类使用</p>
<p>PrintWriter，字符流。是Writer的子类使用</p>
<p>流：</p>
<p>​    基本流：可以直接操作文件的流。</p>
<p>​        FileInputStream,FileOutputStream</p>
<p>​        FileReader,FileWriter</p>
<p>​        PrintWriter,PrintStream</p>
<p>​    高级流：在基本流基础上提供其他功能（装饰着模式）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 打印流</span></span><br><span class="line"><span class="comment"> * PrintStream,PrintWriter</span></span><br><span class="line"><span class="comment"> * 特点：</span></span><br><span class="line"><span class="comment"> * 	只能写数据没有读数据</span></span><br><span class="line"><span class="comment"> * 	可以操作任意类型数据</span></span><br><span class="line"><span class="comment"> * 	启用自动刷新，就可以自动刷新。println(),printf(),format()这三个方法可以自动刷新</span></span><br><span class="line"><span class="comment"> * 	可以直接操作文本文件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	<span class="comment">//启用自动刷新</span></span><br><span class="line">	PrintWriter pw = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\pw.txt"</span>), <span class="keyword">true</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//注意print()是没有自动刷新功能的</span></span><br><span class="line">	pw.print(<span class="string">"abc"</span>);</span><br><span class="line">	pw.print(<span class="number">101</span>);</span><br><span class="line">	pw.print(<span class="keyword">true</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//println()自动刷新</span></span><br><span class="line">	pw.println(<span class="number">999</span>);</span><br><span class="line">	pw.println(<span class="string">"ccc"</span>);</span><br><span class="line">	pw.println(<span class="keyword">false</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//关闭</span></span><br><span class="line">	<span class="comment">//pw.close();</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8、标准输入输出流"><a href="#8、标准输入输出流" class="headerlink" title="8、标准输入输出流"></a>8、标准输入输出流</h3><p>标准输入流：public static final InputStream in</p>
<p>标准输出流：public static final PrintStream out </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * InputStream is = System.in;</span></span><br><span class="line"><span class="comment"> * PrintStream ps = System.out;</span></span><br><span class="line"><span class="comment"> * 		System.out.println()===ps.println();</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 键盘录入数据的方法</span></span><br><span class="line"><span class="comment"> * 		1.main方法的args参数</span></span><br><span class="line"><span class="comment"> * 		2.Scanner</span></span><br><span class="line"><span class="comment"> * 			Scanner sc = new Scanner(System.in);</span></span><br><span class="line"><span class="comment"> * 		3.通过BufferedReader的readLine()方法</span></span><br><span class="line"><span class="comment"> * 			BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	InputStream is = System.in;</span><br><span class="line">	BufferedReader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(is));</span><br><span class="line">	String s = reader.readLine();</span><br><span class="line">	System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9、随机访问流"><a href="#9、随机访问流" class="headerlink" title="9、随机访问流"></a>9、随机访问流</h3><p>RandomAccessFile，父类是Object。既能读取也能写入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 随机访问流</span></span><br><span class="line"><span class="comment">	 * public RandomAccessFile(String file,String mode);</span></span><br><span class="line"><span class="comment">	 * 		mode: "r"，表示只读</span></span><br><span class="line"><span class="comment">	 * 		mode: "rw"，表示读写</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		RandomAccessFile raf = <span class="keyword">new</span> RandomAccessFile(<span class="string">"F:\\b.txt"</span>, <span class="string">"rw"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//写入</span></span><br><span class="line"><span class="comment">//		raf.writeInt(100);</span></span><br><span class="line"><span class="comment">//		raf.write("abc".getBytes());</span></span><br><span class="line"><span class="comment">//		raf.writeBoolean(true);</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//读取</span></span><br><span class="line">		System.out.println(raf.readInt());</span><br><span class="line">		System.out.println(<span class="string">"当前文件指针位置："</span>+raf.getFilePointer());<span class="comment">//指针位置以字节为单位</span></span><br><span class="line">		System.out.println(raf.read());</span><br><span class="line">		System.out.println(<span class="string">"当前文件指针位置："</span>+raf.getFilePointer());<span class="comment">//指针位置以字节为单位</span></span><br><span class="line">		System.out.println(raf.readBoolean());</span><br><span class="line">		System.out.println(<span class="string">"当前文件指针位置："</span>+raf.getFilePointer());<span class="comment">//指针位置以字节为单位</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//通过seek定位指针</span></span><br><span class="line">		raf.seek(<span class="number">4</span>);</span><br><span class="line">		System.out.println(raf.read());</span><br><span class="line">		</span><br><span class="line">		raf.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10、合并流"><a href="#10、合并流" class="headerlink" title="10、合并流"></a>10、合并流</h3><p>SequenceInputStream,SequenceOutputStream</p>
<h3 id="11、序列化流"><a href="#11、序列化流" class="headerlink" title="11、序列化流"></a>11、序列化流</h3><p>ObjectOutputStream</p>
<p>ObjectInputStream</p>
<blockquote>
<p>序列化：把对象按照流一样的方式存入文本文件或者网络中传输</p>
<p>反序列化：把文本文件中或者网络中的流数据还原成对象</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *  java.io.NotSerializableException: com.learn.Student</span></span><br><span class="line"><span class="comment"> *  需要该类实现Serializable接口，该接口没有任何方法，相当于标记接口</span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> *   java.io.InvalidClassException: com.learn.Student; local class incompatible: </span></span><br><span class="line"><span class="comment"> *   stream classdesc serialVersionUID = -7237778631960349202,</span></span><br><span class="line"><span class="comment"> *    local class serialVersionUID = -2835188044197872693</span></span><br><span class="line"><span class="comment"> *    </span></span><br><span class="line"><span class="comment"> *    问题的原因：</span></span><br><span class="line"><span class="comment"> *    Student类实现了序列化接口，他本身应该有一个标记值UID值，如果改变了就不能对应了。</span></span><br><span class="line"><span class="comment"> *    </span></span><br><span class="line"><span class="comment"> *    我们要让这个id值是一个固定值，则修改java文件后以前的数据还能读进来。</span></span><br><span class="line"><span class="comment"> *    点击黄色警告线，则会生成一个uid</span></span><br><span class="line"><span class="comment"> *    private static final long serialVersionUID = 5732312066581130884L;	</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 类中的某些成员变量不想被序列化，怎么办？</span></span><br><span class="line"><span class="comment"> * 	使用transient关键字声明不需要序列化的成员变量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">5732312066581130884L</span>;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">int</span> age;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectStreamTest</span> </span>&#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 序列化流</span></span><br><span class="line"><span class="comment">	 * ObjectOutputStream</span></span><br><span class="line"><span class="comment">	 * ObjectInputStream</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">		write();</span><br><span class="line">		read();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">		<span class="comment">//1.创建反序列化流对象</span></span><br><span class="line">		ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"F:\\oos.txt"</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//2.反序列化</span></span><br><span class="line">		Student s = (Student) ois.readObject();</span><br><span class="line">		System.out.println(s);</span><br><span class="line">		<span class="comment">//3.关闭</span></span><br><span class="line">		ois.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//1.创建序列化流对象</span></span><br><span class="line">		ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\oos.txt"</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//2.创建对象，进行序列化</span></span><br><span class="line">		Student s = <span class="keyword">new</span> Student(<span class="string">"zhangsan"</span>,<span class="number">21</span>);</span><br><span class="line">		oos.writeObject(s);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3.关闭</span></span><br><span class="line">		oos.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="11、Properties"><a href="#11、Properties" class="headerlink" title="11、Properties"></a>11、Properties</h3><p>属性集合类，是一个可以和IO流相结合使用的集合类。</p>
<p>Properties可以保存在流中或从流中加载。属性列表中每个键及其对应值都是一个字符串。</p>
<p>是Hashtable的子类，是一个Map集合。</p>
<p>该类不是一个泛型类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//作为map的功能</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//特殊功能</span></span><br><span class="line">setProperty(String key,String val);</span><br><span class="line">getProperty(String key);</span><br><span class="line">stringPropertyNames();<span class="comment">//获取键的集合</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line">	<span class="comment">//作为map的功能</span></span><br><span class="line">	prop.put(<span class="string">"a"</span>, <span class="string">"A"</span>);</span><br><span class="line">	prop.put(<span class="string">"b"</span>, <span class="string">"B"</span>);</span><br><span class="line">	prop.put(<span class="string">"c"</span>, <span class="string">"C"</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//等号存到文件中会被转义</span></span><br><span class="line">	prop.put(<span class="string">"d"</span>, <span class="string">"==D"</span>);</span><br><span class="line">	System.out.println(prop);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//特有功能</span></span><br><span class="line">	prop.setProperty(<span class="string">"aa"</span>, <span class="string">"AA"</span>);</span><br><span class="line">	System.out.println(prop);</span><br><span class="line">	String val = prop.getProperty(<span class="string">"aa"</span>);</span><br><span class="line">	System.out.println(val);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/* </span></span><br><span class="line"><span class="comment">	 * 这里的集合必须是Properties集合</span></span><br><span class="line"><span class="comment">	 * load()和store()</span></span><br><span class="line"><span class="comment">	 * public void load(Reader reader) 把文件中的数据读取到集合中</span></span><br><span class="line"><span class="comment">	 * public void store(Writer writer,String comments) 把集合中的数据存到文件</span></span><br><span class="line"><span class="comment">	 * 		comments:表示注释</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//存到文件</span></span><br><span class="line">	prop.store(<span class="keyword">new</span> FileWriter(<span class="string">"F:\\prop.txt"</span>),<span class="string">"aaa"</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//读取</span></span><br><span class="line">	Properties prop2 = <span class="keyword">new</span> Properties();</span><br><span class="line">	prop2.load(<span class="keyword">new</span> FileReader(<span class="string">"F:\\prop.txt"</span>));</span><br><span class="line">	System.out.println(<span class="string">"prop2:"</span>+prop2);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12、NIO"><a href="#12、NIO" class="headerlink" title="12、NIO"></a>12、NIO</h3><p>NIO就是新IO。JDK4出现，NIO使用了不同的方式来处理输入输出，采用内存映射文件的方式，将文件或文件的一段区域映射到内存中，提高访问效率。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Path接口</span></span><br><span class="line"><span class="comment">//Paths类</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Path <span class="title">get</span><span class="params">(URI uri)</span></span>;<span class="comment">//根据给定的URI来确定文件路径</span></span><br><span class="line"><span class="comment">//Files类，工具类</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">copy</span><span class="params">(Path source,OutputStream out)</span></span>;<span class="comment">//复制文件</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Path <span class="title">write</span><span class="params">(Path path,Iterable&lt;? extends CharSequence&gt; lines,</span></span></span><br><span class="line"><span class="function"><span class="params">                        Charset cs,OpenOptions... option)</span></span>;<span class="comment">//把集合数据写到文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * NIO</span></span><br><span class="line"><span class="comment"> * Path接口，Paths工具类，Files工具类</span></span><br><span class="line"><span class="comment"> * Files.copy()方法，Files.write()方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	<span class="comment">//复制文件</span></span><br><span class="line">	Files.copy(Paths.get(<span class="string">"F:\\a.txt"</span>), <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\aa.txt"</span>));</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//创建集合</span></span><br><span class="line">	List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	list.add(<span class="string">"a"</span>);</span><br><span class="line">	list.add(<span class="string">"C"</span>);</span><br><span class="line">	list.add(<span class="string">"b"</span>);</span><br><span class="line">	list.add(<span class="string">"a"</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//集合数据写入文件</span></span><br><span class="line">	Files.write(Paths.get(<span class="string">"F:\\list.txt"</span>), list, Charset.forName(<span class="string">"UTF-8"</span>));</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ununie.github.io/2019/03/21/java基础03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ununie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="惶惶不可终日地思考">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/21/java基础03/" itemprop="url">java基础03</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-21T21:05:13+08:00">
                2019-03-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1、Object类"><a href="#1、Object类" class="headerlink" title="1、Object类"></a>1、Object类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Object类的方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;<span class="comment">//返回该对象的哈希码值,对象不同一般返回值也不同。会把对象的内部地址值转化为一个整数。</span></span><br><span class="line"><span class="comment">//哈希值是根据哈希算法计算出来的一个值，跟地址值有关但是不是实际地址值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> Class&lt;?&gt; getClass();<span class="comment">//可以理解为返回某个类的字节码文件对象</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>;<span class="comment">//一般都要重写toString()方法，相当于把该类的所有成员变量值组成并返回即可。默认等于this.getClass().getName()+"@"+Integer.toHexString(this.hashCode)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">==	比较基本类型比较的是基本类型的值，比较引用类型比较的是地址值是否相同</span></span><br><span class="line"><span class="comment">equals()方法默认是用"=="进行比较，也就是默认使用地址值比较</span></span><br><span class="line"><span class="comment">一般重写比较对象成员变量值是否相同</span></span><br><span class="line"><span class="comment">String重写了equals方法</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">this</span>==o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(o==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.getClass()!=o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">//if((o instanceof Student)) return false;</span></span><br><span class="line">    Student s = (Student) s;</span><br><span class="line">    <span class="comment">//比较内容</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当垃圾回收器确定不存在对该对象的更多引用时，由对象的垃圾回收器调用此方法。用于垃圾回收，但是什么时候回收不确定。</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span></span>;   </span><br><span class="line"></span><br><span class="line"><span class="comment">//如果需要重写clone方法，需要实现Cloneable接口，这个接口没有方法，叫做标记接口</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//colone是克隆之后，如果原来的发生改变克隆对象不会改变</span></span><br></pre></td></tr></table></figure>
<h2 id="2、Scanner"><a href="#2、Scanner" class="headerlink" title="2、Scanner"></a>2、Scanner</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Scanner类，是InputStream的包装类型</span></span><br><span class="line">Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"><span class="comment">//调用的是Scanner(InputStream in)的构造方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法</span></span><br><span class="line">hasNextXXX()</span><br><span class="line">nextXXX()</span><br></pre></td></tr></table></figure>
<p>在使用Scanner先获取一个数值，再获取一个字符串会出现问题。会把换行符\r\n给字符串。</p>
<h2 id="3、String"><a href="#3、String" class="headerlink" title="3、String"></a>3、String</h2><p>由多个字符组成的一串数据，也可以看做是一个字符数组。</p>
<p>字符串是常量，值在创建后不能更改。String对象是不可变得。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">(<span class="keyword">byte</span>[] bytes)</span></span>;<span class="comment">//把字节数组转成字符串</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">(<span class="keyword">byte</span>[] bytes,<span class="keyword">int</span> offset,<span class="keyword">int</span> length)</span></span>;<span class="comment">//把字节数组子段转成字符串</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">(<span class="keyword">char</span>[] chars)</span></span>;<span class="comment">//把字符数组转成字符串</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">(<span class="keyword">char</span>[] chars,<span class="keyword">int</span> offset,<span class="keyword">int</span> count)</span></span>;<span class="comment">//把字符数组子段转成字符串</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">(String original)</span></span>;<span class="comment">//把字符串常量转成字符串</span></span><br></pre></td></tr></table></figure>
<p>方法区中有字符串常量池，用String s = “abc”创建字符串会先到字符串常量池中找该字符串，如果没有则创建。</p>
<p>String s = new String(“abc”);会在堆中创建一个String对象，对象指向常量池中的地址。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符串变量相加，先开空间再拼接。如果是常量相加，是先拼接再在常量池中找，如果没有再创建。</span></span><br></pre></td></tr></table></figure>
<p>String的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">equalsIgnoreCase</span><span class="params">(String str)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(String str)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">startWith</span><span class="params">(String str)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">endWith</span><span class="params">(String str)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">charAt</span><span class="params">(<span class="keyword">int</span> index)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(<span class="keyword">int</span> ch)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(String str)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(<span class="keyword">int</span> ch,<span class="keyword">int</span> from)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(String str,<span class="keyword">int</span> from)</span></span>;</span><br><span class="line"><span class="function">String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> start)</span></span>;</span><br><span class="line"><span class="function">String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//转换</span></span><br><span class="line"><span class="keyword">byte</span>[] getBytes();</span><br><span class="line"><span class="keyword">char</span>[] toCharArray();</span><br><span class="line"><span class="comment">//String类的valueOf方法可以把任意类型数据转成String</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> String <span class="title">valueOf</span><span class="params">(<span class="keyword">char</span>[] chs)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">static</span> String <span class="title">valueOf</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line"><span class="function">String <span class="title">toLowerCase</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">String <span class="title">toUpperCase</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">String <span class="title">concat</span><span class="params">(String str)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//替换</span></span><br><span class="line"><span class="function">String <span class="title">replace</span><span class="params">(<span class="keyword">char</span> old,<span class="keyword">char</span> new)</span></span>;</span><br><span class="line"><span class="function">String <span class="title">replace</span><span class="params">(String old,String new)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//去除字符串空格</span></span><br><span class="line"><span class="function">String <span class="title">trim</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//按字典顺序比较两个字符串,返回值是</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(String str)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compareToIgnoreCase</span><span class="params">(String str)</span></span>;</span><br><span class="line"><span class="comment">//compareTo源码</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(String anotherString)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len1 = value.length;</span><br><span class="line">        <span class="keyword">int</span> len2 = anotherString.value.length;</span><br><span class="line">        <span class="keyword">int</span> lim = Math.min(len1, len2);</span><br><span class="line">        <span class="keyword">char</span> v1[] = value;</span><br><span class="line">        <span class="keyword">char</span> v2[] = anotherString.value;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (k &lt; lim) &#123;</span><br><span class="line">            <span class="keyword">char</span> c1 = v1[k];</span><br><span class="line">            <span class="keyword">char</span> c2 = v2[k];</span><br><span class="line">            <span class="comment">//返回不同字符的差</span></span><br><span class="line">            <span class="keyword">if</span> (c1 != c2) &#123;</span><br><span class="line">                <span class="keyword">return</span> c1 - c2;</span><br><span class="line">            &#125;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果前面几位都相同，返回两个字符串的长度差</span></span><br><span class="line">        <span class="keyword">return</span> len1 - len2;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="4、StringBuffer"><a href="#4、StringBuffer" class="headerlink" title="4、StringBuffer"></a>4、StringBuffer</h2><blockquote>
<p>同步-线程安全-效率低</p>
<p>不同步-线程不安全-效率高</p>
</blockquote>
<p>StringBuffer是线程安全的可变字符序列。是一个类似于String的字符串缓冲区。</p>
<p>StringBuffer做字符串拼接不会浪费太多资源。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造方法</span></span><br><span class="line">StringBuffer();<span class="comment">//初始容量为16字符的字符串缓冲区</span></span><br><span class="line">StringBuffer(CharSequence seq);</span><br><span class="line">StringBuffer(<span class="keyword">int</span> capacity);<span class="comment">//指定容量的字符串缓冲区</span></span><br><span class="line">StringBuffer(String str);</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">capacity</span><span class="params">()</span></span>;<span class="comment">//返回容量</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span>;<span class="comment">//返回字符串长度</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//添加</span></span><br><span class="line"><span class="function">StringBuffer <span class="title">append</span><span class="params">(String str)</span></span>;<span class="comment">//可以添加任意类型</span></span><br><span class="line"><span class="function">StringBuffer <span class="title">insert</span><span class="params">(<span class="keyword">int</span> offset,String str)</span></span>;<span class="comment">//在指定位置插入任意类型数据。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function">StringBuffer <span class="title">deleteCharAt</span><span class="params">(<span class="keyword">int</span> index)</span></span>;<span class="comment">//删除指定位置字符，并返回本身</span></span><br><span class="line"><span class="function">StringBuffer <span class="title">delete</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//替换</span></span><br><span class="line"><span class="function">StringBuffer <span class="title">replace</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end,String str)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//反转</span></span><br><span class="line"><span class="function">StringBuffer <span class="title">reverse</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//截取,截取之后本身没有改变</span></span><br><span class="line"><span class="function">String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> start)</span></span>;</span><br><span class="line"><span class="function">String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>;</span><br></pre></td></tr></table></figure>
<p>StringBuilder跟StringBuffer相似，StringBuffer是同步的线程安全的效率低，StringBuilder是不同步的线程不安全效率高。</p>
<p><strong>String、StringBuffer、StringBuilder区别？</strong></p>
<p>String是内容不可变的；StringBuffer、StringBuilder是内容可变的。</p>
<p>StringBuffer是同步的效率低；StringBuilder是不同步的效率高。</p>
<p><strong>StringBuffer和数组的区别？</strong></p>
<p>两者都可以看做是一个容器，装其他数据。StringBuffer的数据最终是一个字符串；数组可以放置多种数据，但必须是同一种数据类型。</p>
<p><strong>注意</strong></p>
<p>引用类型作为形参，形参的改变直接影响呢实际参数。</p>
<p>String作为形参传递，效果和基本类型做为形参传递是一样的。String可以看做特殊的引用类型 ，它在内存的位置跟其他引用类型不一样。</p>
<h2 id="5、Arrays工具类"><a href="#5、Arrays工具类" class="headerlink" title="5、Arrays工具类"></a>5、Arrays工具类</h2><p>针对数组操作的工具类，如排序和查找</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//toString()方法</span></span><br><span class="line">Arrays.toString();</span><br><span class="line"></span><br><span class="line"><span class="comment">//排序,底层使用的是“快速排序”思想</span></span><br><span class="line">Arrays.sort();</span><br><span class="line"></span><br><span class="line"><span class="comment">//二分查找，不存在返回最大 -（最大索引+1）</span></span><br><span class="line">Arrays.binarySearch();</span><br></pre></td></tr></table></figure>
<h2 id="6、包装类型"><a href="#6、包装类型" class="headerlink" title="6、包装类型"></a>6、包装类型</h2><p>为了对基本类型进行更多更方便的操作，java就针对每一种基本数据类型提供了对象的类类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Integer构造方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Integer</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Integer</span><span class="params">(String s)</span></span>;</span><br><span class="line"></span><br><span class="line">Integer.valueOf();</span><br><span class="line"></span><br><span class="line"><span class="comment">//常用基本类型转换</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toBinaryString</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toOctalString</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toHexString</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line"><span class="comment">//十进制到其他进制</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> radix)</span></span>;</span><br><span class="line"><span class="comment">//其他进制到十进制</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(String s,<span class="keyword">int</span> radix)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//int转String</span></span><br><span class="line"><span class="comment">//方式1</span></span><br><span class="line"><span class="keyword">int</span> num = <span class="number">100</span>;</span><br><span class="line">String s1 = <span class="string">""</span>+num;</span><br><span class="line"><span class="comment">//方式2,valueOf()把任意类型转String</span></span><br><span class="line">String.valueOf(num);</span><br><span class="line"><span class="comment">//方式3</span></span><br><span class="line">Integer i = <span class="keyword">new</span> Integer(num);</span><br><span class="line">i.toString();</span><br><span class="line"><span class="comment">//方式4</span></span><br><span class="line">Integer.toString(num);</span><br><span class="line"></span><br><span class="line"><span class="comment">//String转int</span></span><br><span class="line">String s=<span class="string">"100"</span>;</span><br><span class="line"><span class="comment">//方式1</span></span><br><span class="line">Integer ii = <span class="keyword">new</span> Integer(s);</span><br><span class="line">ii.intValue();</span><br><span class="line"><span class="comment">//方式2</span></span><br><span class="line">Integer.parseInt(s);</span><br></pre></td></tr></table></figure>
<h3 id="1、JDK5的自动拆装箱特性"><a href="#1、JDK5的自动拆装箱特性" class="headerlink" title="1、JDK5的自动拆装箱特性"></a>1、JDK5的自动拆装箱特性</h3><p>自动装箱：把基本类型转为包装类型</p>
<p>自动拆箱：把包装类型转为基本类型</p>
<p>前提是包装类型不能为null，运算之前进行判断。</p>
<h3 id="2、byte常量池"><a href="#2、byte常量池" class="headerlink" title="2、byte常量池"></a>2、byte常量池</h3><p>pravate static class IntegerCache</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Integer i1 = <span class="keyword">new</span> Integer(<span class="number">127</span>);</span><br><span class="line">Integer i2 = <span class="keyword">new</span> Integer(<span class="number">127</span>);</span><br><span class="line">syso(i1==i2);<span class="comment">//false,地址值不同</span></span><br><span class="line"></span><br><span class="line">Integer i3 = <span class="keyword">new</span> Integer(<span class="number">128</span>);</span><br><span class="line">Integer i4 = <span class="keyword">new</span> Integer(<span class="number">128</span>);</span><br><span class="line">syso(i3==i4);<span class="comment">//false,地址值不同</span></span><br><span class="line"></span><br><span class="line">Integer i5 = <span class="number">127</span>;</span><br><span class="line">Integer i6 = <span class="number">127</span>;</span><br><span class="line">syso(i5==i6);<span class="comment">//true,在自动装箱的时候使用Integer.valueOf(127),会从常量池中拿数据，所以地址值是一样的。</span></span><br><span class="line"></span><br><span class="line">Integer i7 = <span class="number">128</span>;</span><br><span class="line">Integer i8 = <span class="number">128</span>;</span><br><span class="line">syso(i7==i8);<span class="comment">//false,因为128&gt;127所以不会从常量池拿数据，地址值不同</span></span><br></pre></td></tr></table></figure>
<h3 id="3、Character"><a href="#3、Character" class="headerlink" title="3、Character"></a>3、Character</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造方法</span></span><br><span class="line">Character(<span class="keyword">char</span> value);</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isUpperCase</span><span class="params">(<span class="keyword">char</span> ch)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isLowerCase</span><span class="params">(<span class="keyword">char</span> ch)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isDigit</span><span class="params">(<span class="keyword">char</span> ch)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">char</span> <span class="title">toUpperCase</span><span class="params">(<span class="keyword">char</span> ch)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">char</span> <span class="title">toLowerCase</span><span class="params">(<span class="keyword">char</span> ch)</span></span>;</span><br></pre></td></tr></table></figure>
<h2 id="7、排序和查找"><a href="#7、排序和查找" class="headerlink" title="7、排序和查找"></a>7、排序和查找</h2><p>冒泡排序、选择排序</p>
<p>针对有序的数组，可以使用二分查找。</p>
<h2 id="8、正则表达式"><a href="#8、正则表达式" class="headerlink" title="8、正则表达式"></a>8、正则表达式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断功能,String类的</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(String regex)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//分割,String类</span></span><br><span class="line"><span class="keyword">public</span> String[] split(String regex);</span><br><span class="line"></span><br><span class="line"><span class="comment">//替换，String类</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">replaceAll</span><span class="params">(String regex,String replace)</span></span></span><br></pre></td></tr></table></figure>
<h3 id="1、Pattern和Matcher类"><a href="#1、Pattern和Matcher类" class="headerlink" title="1、Pattern和Matcher类"></a>1、Pattern和Matcher类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">"xxx"</span>;</span><br><span class="line">Pattern p = Pattern.compile(<span class="string">"regex"</span>);<span class="comment">//把规则编译成模式对象</span></span><br><span class="line">Matcher m = p.matcher(s);<span class="comment">//通过模式对象得到匹配器对象</span></span><br><span class="line"><span class="comment">//调用Matcher的功能</span></span><br><span class="line"><span class="comment">//通过find查找满足条件的子序列</span></span><br><span class="line"><span class="keyword">while</span>(m.find())&#123;</span><br><span class="line">    <span class="comment">//一定要先find后才能调用group</span></span><br><span class="line">    String tar = m.group();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9、Math类"><a href="#9、Math类" class="headerlink" title="9、Math类"></a>9、Math类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Math.PI;</span><br><span class="line">Math.E;</span><br><span class="line">Math.sqrt();</span><br><span class="line">Math.pow(<span class="keyword">double</span> d1,<span class="keyword">double</span> d2);</span><br></pre></td></tr></table></figure>
<h2 id="10、System类"><a href="#10、System类" class="headerlink" title="10、System类"></a>10、System类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">System.gc();<span class="comment">//运行垃圾回收器</span></span><br><span class="line"><span class="comment">//执行System.gc()前，系统会自动调用finalize()方法清除对象占有的资源，通过super.finalize()方法可以实现从下岛上的finalize()方法的调用。即先释放自己的资源，再释放父类的资源。</span></span><br><span class="line"><span class="comment">//但是，不要在程序中频繁的调用垃圾回收，因为每一次执行垃圾回收，jvm都会强制启动垃圾回收器运行，这会耗费更多的系统资源，会与正常的java程序运行争夺资源，只有在执行大量的对象的释放，才调用垃圾回收最好。</span></span><br><span class="line"></span><br><span class="line">System.exit(<span class="keyword">int</span> status);</span><br><span class="line"><span class="comment">//终止当前正在运行的java虚拟机，参数用作状态码；根据惯例，非0的状态码表示异常终止。</span></span><br><span class="line"></span><br><span class="line">System.currentTimeMillis();</span><br><span class="line"><span class="comment">//返回以毫秒为单位的时间</span></span><br><span class="line"></span><br><span class="line">System.arraycopy(Object src,<span class="keyword">int</span> srcPos,Object dest,<span class="keyword">int</span> destPos,<span class="keyword">int</span> length);</span><br><span class="line"><span class="comment">//从指定源数组中复制一个数组，复制从指定位置开始，到目标数组的指定位置结束。</span></span><br></pre></td></tr></table></figure>
<h2 id="11、BigInteger"><a href="#11、BigInteger" class="headerlink" title="11、BigInteger"></a>11、BigInteger</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> BigInteger <span class="title">add</span><span class="params">(BigInteger val)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> BigInteger <span class="title">subtract</span><span class="params">(BigInteger val)</span></span>;<span class="comment">//减</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> BigInteger <span class="title">multiply</span><span class="params">(BigInteger val)</span></span>;<span class="comment">//乘</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> BigInteger <span class="title">devide</span><span class="params">(BigInteger val)</span></span>;<span class="comment">//除</span></span><br><span class="line"><span class="keyword">public</span> BigInteger[] devideAndRemainder(BigInteger val);<span class="comment">//返回商和余数的数组</span></span><br></pre></td></tr></table></figure>
<h2 id="12、BigDecimal"><a href="#12、BigDecimal" class="headerlink" title="12、BigDecimal"></a>12、BigDecimal</h2><p>float和doble很容易丢失精度，为了能精确表示计算浮点数，可以使用BigDecimal类。</p>
<p>构造：public BigDecimal(String val); </p>
<p>BigDecimal类：不可变的，任意精度的有符号十进制数，可以解决精度丢失问题。</p>
<h2 id="13、Date类"><a href="#13、Date类" class="headerlink" title="13、Date类"></a>13、Date类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造方法</span></span><br><span class="line">Date();<span class="comment">//根据默认当前毫秒值创建日期对象</span></span><br><span class="line">Date(<span class="keyword">long</span> millies);<span class="comment">//根据给定毫秒值创建日期对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取时间</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getTime</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//设置时间</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTime</span><span class="params">(<span class="keyword">long</span> time)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="1、SimpleDateFormat"><a href="#1、SimpleDateFormat" class="headerlink" title="1、SimpleDateFormat"></a>1、SimpleDateFormat</h3><h3 id="2、Calendar"><a href="#2、Calendar" class="headerlink" title="2、Calendar"></a>2、Calendar</h3><p>抽象类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Calendar cal = Calendar.getInstance();<span class="comment">//返回子类对象</span></span><br><span class="line"><span class="keyword">int</span> year = cal.get(Calendar.YEAR);</span><br><span class="line"><span class="keyword">int</span> month = cal.get(Calendar.MONTH);<span class="comment">//返回月份需要加一</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> field,<span class="keyword">int</span> amount)</span></span>;<span class="comment">//根据日历字段和对应时间来对当前日历进行操作。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> year,<span class="keyword">int</span> month,<span class="keyword">int</span> date)</span></span>;<span class="comment">//设置当前日历的年月日</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ununie.github.io/2019/03/21/java基础02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ununie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="惶惶不可终日地思考">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/21/java基础02/" itemprop="url">java基础02</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-21T20:53:12+08:00">
                2019-03-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1、方法"><a href="#1、方法" class="headerlink" title="1、方法"></a>1、方法</h2><p>方法重载：</p>
<p>同一个类中允许一个以上的同名方法，只要他们的参数个数或参数类型不同即可。</p>
<p>方法重载与返回值无关，只看方法名和参数列表。调用时虚拟机通过参数雷暴来区分不同的方法</p>
<h2 id="2、数组"><a href="#2、数组" class="headerlink" title="2、数组"></a>2、数组</h2><p>数组定义格式：</p>
<p>数据类型[] 数组名，int[] a;</p>
<p>数据类型 数组名[],int a[];</p>
<p>数组的初始化：</p>
<p>动态初始化：初始化时只指定数组长度，由系统分配初始值</p>
<p>静态初始化：初始化时指定每个元素的初始化值，由系统决定数组长度。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];<span class="comment">//动态初始化</span></span><br><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;<span class="comment">//静态初始化</span></span><br><span class="line"><span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;<span class="comment">//静态初始化，简写</span></span><br></pre></td></tr></table></figure>
<p>内存划分：</p>
<p>栈：存储局部变量，用完就是释放掉</p>
<p>堆：存放的是所有new出来的东西，地址值</p>
<p>方法区 ：</p>
<p>本地方法区：跟系统相关</p>
<p>寄存器：CPU使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组长度</span></span><br><span class="line"><span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> length = arr.length;<span class="comment">//这里是数组的属性，不是方法</span></span><br></pre></td></tr></table></figure>
<p>二维数组</p>
<h2 id="3、面向对象"><a href="#3、面向对象" class="headerlink" title="3、面向对象"></a>3、面向对象</h2><p>面向对象的开发：就是不断地创建对象、使用对象、只会对象做事情</p>
<p>面向对象的设计：就是管理与维护对象之间的关系</p>
<p>面向对象的特征：封装、多态、继承</p>
<h3 id="1、类与对象"><a href="#1、类与对象" class="headerlink" title="1、类与对象"></a>1、类与对象</h3><h4 id="1、局部变量和成员变量的区别："><a href="#1、局部变量和成员变量的区别：" class="headerlink" title="1、局部变量和成员变量的区别："></a>1、局部变量和成员变量的区别：</h4><p>1、书写位置不同，成员变量在类中方法外。局部变量在方法中或方法生命中。</p>
<p>2、在内存中的位置不同，成员变量在堆内存中，局部变量在栈内存中</p>
<p>3、生命周期不同，成员变量随着对象创建而创建随着对象消失而消失；局部变量随着方法调用而创建随着方法调用完毕而消失</p>
<p>4、初始化值不同，成员变量有默认初始化值，局部变量没有默认初始值</p>
<h4 id="2、匿名对象"><a href="#2、匿名对象" class="headerlink" title="2、匿名对象"></a>2、匿名对象</h4><h3 id="2、封装"><a href="#2、封装" class="headerlink" title="2、封装"></a>2、封装</h3><p>封装是指隐藏对象的属性和实现细节，仅对外提供public的访问方式</p>
<p>好处：</p>
<p>隐藏实现细节，提供公共的访问方式</p>
<p>提高代码的复用性</p>
<p>提高安全性</p>
<h3 id="3、private关键字，this关键字"><a href="#3、private关键字，this关键字" class="headerlink" title="3、private关键字，this关键字"></a>3、private关键字，this关键字</h3><h3 id="4、构造方法"><a href="#4、构造方法" class="headerlink" title="4、构造方法"></a>4、构造方法</h3><p>创建对象： Student s = new Student();</p>
<p>​         加载Student.class到内存</p>
<p>​         在栈内存为s开辟内存空间</p>
<p>​         在堆内存为Student对象开辟空间</p>
<p>​         对学生对象的成员变量进行默认初始化</p>
<p>​         对学生对象成员变量进行显示初始化（字段默认值）</p>
<p>​         通过构造器对学生对象成员变量进行赋值</p>
<p>​         初始化完毕把堆内存的地址值给s</p>
<h3 id="5、static关键字"><a href="#5、static关键字" class="headerlink" title="5、static关键字"></a>5、static关键字</h3><p>随着类的加载而加载</p>
<p>优先于对象存在</p>
<p>被类的所有对象共享</p>
<p>可以通过类名调用</p>
<p><strong>注意：</strong></p>
<p>静态方法中是没有this关键字的</p>
<p>静态方法只能访问静态的成员变量和静态方法。</p>
<p><strong>静态变量和成员变量的区别</strong></p>
<p>所属不同：静态变量属于类，成员变量属于对象</p>
<p>在内存中存储位置不同：静态变量存在方法区的静态区中；成员变量存在堆中</p>
<p>生存周期不同：静态变量随着类的加载而加载随着类的消失而消失；成员变量随着对象加载消失</p>
<p>调用不同：静态变量可以由类和对象共同调用；成员变量只能对象调用</p>
<blockquote>
<p>private static是合法的，且有着其独到的用处：为静态方法提供私有静态属性</p>
</blockquote>
<h3 id="6、代码块"><a href="#6、代码块" class="headerlink" title="6、代码块"></a>6、代码块</h3><p>用{}括起来的叫代码块</p>
<p>分类：</p>
<p>局部代码块：用于限定变量的生命周期，及早释放提高内存的应用率</p>
<p>构造代码块：把多个构造方法相同的代码放在这里，每个代码执行前先执行构造代码块</p>
<p>静态代码块：对类的数据进行初始化，在类加载时仅仅执行一次</p>
<p>执行顺序：静态代码块&gt;构造代码块&gt;局部代码块</p>
<h3 id="7、继承"><a href="#7、继承" class="headerlink" title="7、继承"></a>7、继承</h3><p>把多个类中相同的内容提取出来定义到一个类中，这个独立的类和多个类产生关系，这种关系叫做继承。</p>
<p><strong>继承的好处：</strong></p>
<ul>
<li>提高了代码的复用性</li>
<li>提高了代码的维护性</li>
<li>让类与类产生了一个关系，这个关系是多态的前提。</li>
</ul>
<p><strong>继承的弊端：</strong></p>
<ul>
<li>让类的耦合性增强，改变某个类可能影响到其他类。设计原则：低耦合、高内聚</li>
<li>打破了类的封装性</li>
</ul>
<p><strong>注意事项：</strong></p>
<ul>
<li>子类不能继承父类的私有成员</li>
<li>子类不能继承父类的构造方法，可以用super关键字访问</li>
<li>不能为了部分功能使用继承</li>
</ul>
<p><strong>继承中的成员关系：</strong></p>
<p>成员变量：子类成员变量与父类成员变量名称相同，就近原则。</p>
<p>构造方法：</p>
<p>子类构造方法默认会访问父类的无参构造，为了子类访问父类数据的初始化。</p>
<p>如果父类没有无参构造方法：</p>
<ul>
<li>子类通过super去明确调用父类的带参构造。</li>
<li>子类构造通过this调用本身的其他构造，被调用的需要调用父类的构造</li>
<li>父类提供无参构造</li>
</ul>
<p>成员方法：</p>
<p>子类成员方法跟父类一样，就近原则先找子类。</p>
<p><strong>重写和重载</strong>：</p>
<p>子类重写父类方法，方法签名要相同。</p>
<p>方法的重载，方法名相同参数类型或个数不同</p>
<h3 id="8、final关键字"><a href="#8、final关键字" class="headerlink" title="8、final关键字"></a>8、final关键字</h3><p>可以修饰类、变量、方法</p>
<p>特点：</p>
<ul>
<li>修饰的类不能被继承</li>
<li>修饰的方法不能被重写</li>
<li>修饰的变量是常量</li>
</ul>
<p>局部变量</p>
<p>修饰的是基本类型，变量值不能改变</p>
<p>修饰的是引用类型，变量的地址值不能改变</p>
<p>初始化时机</p>
<p>只能初始化一次，常见是在定义的时候或者在构造方法中。</p>
<h3 id="9、多态"><a href="#9、多态" class="headerlink" title="9、多态"></a>9、多态</h3><p>同一个对象在不同的时刻体现不同的状态。</p>
<p><strong>多态的前提</strong></p>
<ul>
<li>类与类有继承关系</li>
<li>有方法重写</li>
<li>有父类或父接口指向子类对象</li>
</ul>
<p><strong>多态的分类</strong></p>
<ul>
<li>具体类多态</li>
<li>抽象类多态</li>
<li>接口多态</li>
</ul>
<p><strong>多态成员变量访问特点</strong></p>
<ul>
<li>成员变量：编译看左边，运行看左边</li>
<li>构造方法：子类构造器会默认访问父类的无参构造</li>
<li>成员方法：编译看左边，运行看右边（方法重写）</li>
<li>静态方法：编译看左边，运行看左边</li>
</ul>
<p><strong>多态的好处</strong></p>
<ul>
<li>提高代码的维护性（继承的体现）</li>
<li>提高代码的扩展性（多态的体现）</li>
</ul>
<p><strong>多态的弊端</strong></p>
<p>父类不能使用子类特有功能</p>
<p>现象：子可以当父使用，父不能当子使用</p>
<h3 id="10、抽象类"><a href="#10、抽象类" class="headerlink" title="10、抽象类"></a>10、抽象类</h3><p>给出方法声明不提供方法体的方法可以定义为抽象方法</p>
<p>一个类中如果有抽象方法，该类必须定义为抽象类。</p>
<p><strong>抽象类特点</strong></p>
<ul>
<li>抽象类和抽象方法必须用abstract修饰</li>
<li>抽象类中不一定有抽象方法，有抽象方法的类必须定义为抽象类</li>
<li>抽象类不能实例化</li>
</ul>
<p><strong>抽象类的成员特点</strong></p>
<ul>
<li>成员变量：有变量、有常量</li>
<li>构造方法：有构造方法</li>
<li>成员方法：有抽象、有非抽象</li>
</ul>
<p><strong>注意</strong></p>
<ul>
<li>抽象类不能实例化，那么抽象类构造方法的意义是什么？</li>
</ul>
<p>用于子类访问父类数据的初始化</p>
<ul>
<li>一个类如果没有抽象方法，却定义了抽象类，有什么用？</li>
</ul>
<p>为了不让创建对象。（也可以将构造方法私有）</p>
<ul>
<li>abstract不能和哪些关键字共存？</li>
</ul>
<p>与final关键字冲突</p>
<p>与private关键字冲突</p>
<p>static关键字无意义</p>
<h3 id="11、接口"><a href="#11、接口" class="headerlink" title="11、接口"></a>11、接口</h3><p><strong>接口的特点</strong></p>
<ul>
<li>接口不能实例化</li>
<li>接口的实现类可以是一个抽象类，也可以是一个具体类具体类必须重写接口中的所有抽象方法</li>
</ul>
<p><strong>接口成员特点</strong></p>
<ul>
<li>成员变量：只能是常量，默认修饰符public static final</li>
<li>构造方法：没有构造方法</li>
<li>成员方法：只能是抽象的，默认修饰符public abstract</li>
</ul>
<p><strong>接口与抽象类的区别</strong></p>
<ul>
<li>成员区别：</li>
</ul>
<p>抽象类：可以有变量、常量、构造方法、普通方法、抽象方法</p>
<p>接口：只能有常量、抽象方法，没有构造方法</p>
<ul>
<li>设计理念区别</li>
</ul>
<p>抽象类是 is a，抽象类中定义的是共性的内容</p>
<p>接口是like a，接口中定义的是类的扩展功能</p>
<h3 id="12、修饰符"><a href="#12、修饰符" class="headerlink" title="12、修饰符"></a>12、修饰符</h3><table>
<thead>
<tr>
<th>权限修饰符</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>private</td>
<td>只能本类访问</td>
</tr>
<tr>
<td>默认修饰符</td>
<td>本类，同一个包下的类可以访问</td>
</tr>
<tr>
<td>protected</td>
<td>本类、本类子类（不同包子类）可以访问</td>
</tr>
<tr>
<td>public</td>
<td>都可以访问</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>常见修饰符</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>权限修饰符</td>
<td>private、默认、protected、public</td>
</tr>
<tr>
<td>状态修饰符</td>
<td>static、final</td>
</tr>
<tr>
<td>抽象修饰符</td>
<td>abstract</td>
</tr>
</tbody>
</table>
<p>适用性</p>
<p>类：默认、public、final、abstract、private</p>
<p>成员变量：权限修饰符、static、final</p>
<p>构造方法：权限修饰符</p>
<p>成员方法：权限修饰符、static、final、abstract</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修饰外部类的所有组合</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span>/<span class="keyword">final</span></span><br><span class="line">默认+<span class="keyword">abstract</span>/<span class="keyword">final</span></span><br><span class="line">   </span><br><span class="line"><span class="comment">//常见组合</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span><span class="comment">//接口中的常量</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span></span><br></pre></td></tr></table></figure>
<h3 id="13、内部类"><a href="#13、内部类" class="headerlink" title="13、内部类"></a>13、内部类</h3><p>把类定义在另一个类的内部</p>
<p><strong>内部类访问规则</strong></p>
<p>可以直接访问外部类的成员，包括私有</p>
<p>外部类想要访问内部类成员必须创建对象</p>
<p><strong>内部类的分类</strong></p>
<p>局部内部类</p>
<p>成员内部类</p>
<p><strong>成员内部类</strong></p>
<p>private 为了数据的安全性</p>
<p>static为了访问的方便性</p>
<p>成员内部类不是静态的：Outer.Inner inner = new Outer.new Inner();</p>
<p>成员内部类是静态的：此时只能用类名去调用</p>
<p>Outer.Inner inner = new Outer.Inner();</p>
<p><strong>局部内部类</strong></p>
<p>局部内部类访问的局部变量必须加final修饰</p>
<p>因为局部变量使用完毕就小时，而堆内存的数据不会立即消失。所以堆内存还使用该变量而该变量已经没有了。为了让该变量还存在，就加final修饰。通过反编译可以看到堆内存存储的是值，而不是变量名。</p>
<p><strong>匿名内部类</strong></p>
<p>是局部内部类的简化形式</p>
<p>前提是要有一个类或接口</p>
<p>格式：new 类名或接口名(){</p>
<p>​    重写方法；</p>
<p>}</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ununie.github.io/2019/03/17/java基础01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ununie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="惶惶不可终日地思考">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/17/java基础01/" itemprop="url">java基础01</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-17T22:55:55+08:00">
                2019-03-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1、jvm、jre、jdk"><a href="#1、jvm、jre、jdk" class="headerlink" title="1、jvm、jre、jdk"></a>1、jvm、jre、jdk</h2><p>jvm：java虚拟机</p>
<p>jre：java运行环境，包含了java虚拟机和java程序所需要的核心类库。如果运行一个java程序，只需要jre即可</p>
<p>jdk：java开发工具包，包含了jre、编译工具javac.exe、打包工具jar.exe</p>
<h2 id="2、jdk下载安装"><a href="#2、jdk下载安装" class="headerlink" title="2、jdk下载安装"></a>2、jdk下载安装</h2><p>配置环境变量，JAVA_HOME</p>
<h2 id="3、java语法"><a href="#3、java语法" class="headerlink" title="3、java语法"></a>3、java语法</h2><h3 id="1、关键字"><a href="#1、关键字" class="headerlink" title="1、关键字"></a>1、关键字</h3><ul>
<li>goto和const作为保留字</li>
<li>关键字都是小写</li>
</ul>
<h3 id="2、标识符"><a href="#2、标识符" class="headerlink" title="2、标识符"></a>2、标识符</h3><ul>
<li><p>给类、接口、方法、变量等命名时使用的字符序列。</p>
</li>
<li><p>不能以数字开头</p>
</li>
<li>不能是关键字</li>
</ul>
<h3 id="3、注释"><a href="#3、注释" class="headerlink" title="3、注释"></a>3、注释</h3><ul>
<li>单行注释//注释内容</li>
<li>多行注释/<em> 注释内容 </em>/</li>
<li>文档注释/<strong> 注释内容 </strong>/</li>
</ul>
<p>作用：提高阅读性，注释掉内容帮助调试</p>
<h3 id="4、常量"><a href="#4、常量" class="headerlink" title="4、常量"></a>4、常量</h3><ul>
<li>字面值常量：字符串、整数、小数、字符常量、布尔常量、null</li>
<li>自定义常量</li>
</ul>
<h4 id="1、进制"><a href="#1、进制" class="headerlink" title="1、进制"></a>1、进制</h4><ul>
<li>整数常量的四种表现形式：<ul>
<li>二进制：以0b开头</li>
<li>八进制：以0开头</li>
<li>十进制：默认</li>
<li>十六进制：以0x开头，0-9以及a-f（大小写均可）</li>
<li><strong>进制之间转换</strong>：十进制到其它n进制，用数字除以n，余数倒序</li>
</ul>
</li>
</ul>
<p>一个字节（byte）等于8位（bit）</p>
<p>1K=1024byte</p>
<p>1M=1024K</p>
<h4 id="2、原码、反码、补码"><a href="#2、原码、反码、补码" class="headerlink" title="2、原码、反码、补码"></a>2、原码、反码、补码</h4><p>所有数据运算都是用补码进行的</p>
<p>原码：就是二进制表示法，最左边为0表示整数，1表示负数正数</p>
<p>反码：正数反码与原码相同；负数反码是原码逐位取反符号位除外</p>
<p>补码：正数补码与原码相同；负数补码是反码末位加1</p>
<h3 id="5、变量"><a href="#5、变量" class="headerlink" title="5、变量"></a>5、变量</h3><p>数据类型    变量名=变量值</p>
<h3 id="6、数据类型"><a href="#6、数据类型" class="headerlink" title="6、数据类型"></a>6、数据类型</h3><p>基本数据类型：整型、浮点型、字符型、布尔型</p>
<p>引用数据类型：类、接口、数组</p>
<h4 id="1、基本类型"><a href="#1、基本类型" class="headerlink" title="1、基本类型"></a>1、基本类型</h4><table>
<thead>
<tr>
<th>整型</th>
<th>占用字节个数</th>
<th>范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>byte</td>
<td>1</td>
<td>-128-127</td>
</tr>
<tr>
<td>short</td>
<td>2</td>
<td>-2^15-2^15-1</td>
</tr>
<tr>
<td>int</td>
<td>4</td>
<td>-2^31-2^31-1</td>
</tr>
<tr>
<td>long</td>
<td>8</td>
<td>-2^53-2^53-1</td>
</tr>
<tr>
<td>浮点型</td>
<td></td>
<td></td>
</tr>
<tr>
<td>float</td>
<td>4</td>
<td>-3.403e38-3.403e38</td>
</tr>
<tr>
<td>double默认</td>
<td>8</td>
<td>-1.798e308-1.798e308</td>
</tr>
<tr>
<td>字符型</td>
<td></td>
<td></td>
</tr>
<tr>
<td>char</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>布尔型</td>
<td></td>
<td></td>
</tr>
<tr>
<td>boolean</td>
<td>1</td>
<td>默认false</td>
</tr>
</tbody>
</table>
<p>长整型long后缀用L标记</p>
<p>单精度浮点型float后缀用F标记</p>
<h4 id="2、使用变量注意事项"><a href="#2、使用变量注意事项" class="headerlink" title="2、使用变量注意事项"></a>2、使用变量注意事项</h4><p>变量的作用域，变量所定义在的大括号内</p>
<p>相同作用域不能定义同名变量</p>
<p>没有初始化的变量不能直接使用</p>
<p>默认转换：</p>
<p>byte、short、char——int——long——float——double</p>
<p>byte、shrot、char相互之间不转换，他们参与运算都转为int进行运算。即便是两个byte之间进行运算也是先转int</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">byte</span> b1=<span class="number">3</span>,b2=<span class="number">4</span>,b3,b4;</span><br><span class="line">b3=b1+b2;<span class="comment">//这里会有类型提示问题，报错。因为是变量相加</span></span><br><span class="line">b4=<span class="number">3</span>+<span class="number">4</span>;<span class="comment">//常量会先把结果计算出来，如果在byte范围内，赋值给byte类型则不报错。</span></span><br></pre></td></tr></table></figure>
<p>强制转换</p>
<p>long转到float为什么可以？</p>
<p>整型和浮点型底层存储结构不同；float表示的数据范围比long的范围大</p>
<p>java中的char类型可以存一个中文汉字吗？</p>
<p>可以，java中的char类型占用2个字节。汉字一般占两个字节。java采用的是unicode编码</p>
<h3 id="7、运算符"><a href="#7、运算符" class="headerlink" title="7、运算符"></a>7、运算符</h3><p>算术运算符、赋值运算符、比较运算符、逻辑运算符、位运算符、三目运算符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">short</span> s1=<span class="number">1</span>,s2=<span class="number">1</span>;</span><br><span class="line">s1=s1+<span class="number">1</span>;<span class="comment">//这里会报错</span></span><br><span class="line">s2+=<span class="number">1</span>;<span class="comment">//这里不报错，想当于s2=(shrot)(s2+1);</span></span><br></pre></td></tr></table></figure>
<p>位运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th></th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;&lt;</td>
<td>左移</td>
<td>1001&lt;&lt;  10010</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>右移</td>
<td>1001&gt;&gt;  1100</td>
</tr>
<tr>
<td>&gt;&gt;&gt;</td>
<td>无符号右移</td>
<td>1001&gt;&gt;  0100</td>
</tr>
<tr>
<td>&amp;</td>
<td>与运算</td>
<td>有0则0</td>
</tr>
<tr>
<td>\</td>
<td></td>
<td>或运算</td>
<td>有1则1</td>
</tr>
<tr>
<td>^</td>
<td>异或</td>
<td>相同则0，不同则1</td>
</tr>
<tr>
<td>~</td>
<td>取反</td>
<td>按位取反</td>
</tr>
</tbody>
</table>
<p>a^b^b结果为a，可以用作简单的数据加密</p>
<p>m&lt;&lt;n = m*2^n</p>
<p>m&gt;&gt;n = m/2^n</p>
<p>加法操作a+b相当于a^b + (a&amp;b)&lt;&lt;1 递归调用直到a&amp;b=0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取键盘录入数据</span></span><br><span class="line">Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">sc.nextInt();</span><br></pre></td></tr></table></figure>
<h3 id="8、流程控制语句"><a href="#8、流程控制语句" class="headerlink" title="8、流程控制语句"></a>8、流程控制语句</h3><p>顺序语句、条件语句、循环语句</p>
<p>switch语句的取值byte、int、short、char。JDK5以后可以是枚举，JDK7以后可以是字符串</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ununie.github.io/2019/02/25/个人博客的由来/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ununie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="惶惶不可终日地思考">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/25/个人博客的由来/" itemprop="url">个人博客的由来</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-25T21:39:03+08:00">
                2019-02-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/一些记录/" itemprop="url" rel="index">
                    <span itemprop="name">一些记录</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>以前也在网上写东西,用过csdn、简书、微信公众号等。后来在java交流群中看到了有朋友使用Hexo搭建的个人博客，风格非常漂亮又有很多自定义功能，所以打算尝试一下于是就有了这个博客。</p>
<p>搭建过程参照知乎的一篇专栏：</p>
<blockquote>
<p><a href="https://zhuanlan.zhihu.com/p/26625249" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/26625249</a></p>
</blockquote>
<p>​    过程中也会遇到一些坑，多数是因为对git、nodejs、npm不够熟悉。等踩过了坑在浏览器中输入自己的网址访问到主页时还是非常开心的。整个搭建过程用了昨天一个晚上，今天晚上配置了一些内容，使用了<a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener"><strong>next</strong></a>主题美化了页面，用了<a href="http://www.tietuku.com/" target="_blank" rel="noopener"><strong>贴图库</strong></a>作为博客文章的图床，自定义了头像，网页图标favicon，还把支付宝微信收钱码贴了上去（不要脸笑）。</p>
<p>​    总之，我的个人博客算是上线了。以后会在这里记录一些感悟、知识或者是一些有意思的东西.诸位,一起加油吧…</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="ununie">
            
              <p class="site-author-name" itemprop="name">ununie</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="undefined" target="_blank" title="QQ">
                      
                        <i class="fa fa-fw fa-globe"></i>QQ</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ununie</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
